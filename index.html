<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $("#add").click(function(){
      //  $(this).hide();
 var pricesum=0;
 var discounttotal=0;
    var a=  $("#Price").val();
    var b=  $("#Discount").val();
    var id=a+""+b;
    var deleteid=id+"delete";
    var Discountvalue=(a*b)/100;
    var priceafterdiscount=a-Discountvalue;
  //  var wrapper = $(".input_fields_wrap");
//var button='<input type="button" id="delete">';
if (!a&&!b) {
  // is emtpy
    alert("please enter values");
}else{
  if (isNaN( $("#Price").val() )) {
      // It isn't a number
      alert("please enter price a number value");
  } else {
      // It is a number

      if (isNaN( $("#Discount").val() )) {
          // It isn't a number
          alert("please enter Discount a number value");
      } else {
          // It is a number
          //alert("nubmer");
          var x ="<tr id="+id+"><td width='70%' class='price'>"+priceafterdiscount+"</td>"+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<td width='30%'class='discount'>"+Discountvalue+"</td>&nbsp;&nbsp;<td><button  class='btn btn-danger remove_field' id="+"delete"+" name="+deleteid+">X</button></td></tr></br>";
           $("#list1").append(x);

           $('#list1 tr').each(function() {
        //adding price values
               var priceofeach =parseFloat( $(this).find(".price").text());
               pricesum=pricesum+priceofeach;
               //adding discount values
               var discountsumofeach =parseFloat( $(this).find(".discount").text());

               discounttotal=discounttotal+discountsumofeach;

            });

          /*  $('#list1 tr').each(function() {



          });*/
        // var check=pricesum.toFixed(2);
          //alert(check);
          pricesum=pricesum.toFixed(2);
          discounttotal=discounttotal.toFixed(2);
          $("#totalprice").text(pricesum);
          $("#totaldiscount").text(discounttotal);
      }
  }
}


    //  addition finish here by add buttun
    });


//remove content
$(document).on("click","button.remove_field", function(e){ //user click on remove text
        e.preventDefault();
      //  $(this).closest('tr').remove();
        //removing values from list and calculating total again
        var $row = $(this).closest("tr");    // Find the row
    var $price = parseFloat($row.find(".price").text()); // Find the text
    var $discount = parseFloat($row.find(".discount").text()); // Find the text

  //getting previus totalprice
  var totalagainprice=parseFloat($("#totalprice").text());
    var totalagaindiscount=parseFloat($("#totaldiscount").text());
//alert(totalagain);
//reclaculate price and discount

pricesum=totalagainprice-$price;
discounttotal=totalagaindiscount-$discount;
pricesum=pricesum.toFixed(2);
discounttotal=discounttotal.toFixed(2);
$("#totalprice").text(pricesum);
$("#totaldiscount").text(discounttotal);
//alert(pricesum);
    $row.remove();

    });


});

</script>
</head>
<body>
<div class="container"></br></br>

  </div></br></br>
</div>
<div class="container">
  <div class="row"><div  class="col-md-4"></div>
    <div class="col-md-6">
      Price: <input type="text" name="Price" id="Price">
      Discount(%)<input type="text" name="Discount" id="Discount">
      <button class="btn btn-primary" id="add">Add</button></br></br></br>
      <table class="table table-striped" style="width:100%" id="list1">
<tbody>
</tbody>

  </table>
</br></br></br>
  <table class="table" style="width:100%">
    <tr>
  <b>  Total Price  </b><td id="totalprice"></td>
  <b> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp
    ;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Total Discount(rs)  </b>
   <td id="totaldiscount"></td>
  </tr>
</table>
</div>



  </div>

</div>

</body>
</html>
